"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[203],{926:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var t=s(9379),i=s(5043),n=s(791),c=s(6667),r=s(8279);const l=s.p+"static/media/human_body_outline.d0af67e1df0c5dab3a83.png";var d=s(579);const o=()=>{const[e]=(0,r.hD)(n.j),[a,s]=(0,i.useState)([]),[o,u]=(0,i.useState)({location:"",date:(new Date).toISOString().split("T")[0],pain:5,notes:"",coordX:0,coordY:0});(0,i.useEffect)(()=>{if(!e)return;const a=(0,c.P)((0,c.rJ)(n.db,"injuries"),(0,c._M)("userId","==",e.uid),(0,c.My)("date","desc")),i=(0,c.aQ)(a,e=>{s(e.docs.map(e=>(0,t.A)({id:e.id},e.data())))});return()=>i()},[e]);return(0,d.jsxs)("div",{className:"injury-page",children:[(0,d.jsx)("h1",{className:"page-title",children:"Injury Story"}),(0,d.jsxs)("div",{className:"dashboard-container",children:[(0,d.jsxs)("div",{className:"form-card",children:[(0,d.jsxs)("div",{className:"body-map-container",children:[(0,d.jsx)("img",{src:l,alt:"Body Map",className:"body-silhouette",onClick:e=>{const a=e.target.getBoundingClientRect(),s=(e.clientX-a.left)/a.width*100,i=(e.clientY-a.top)/a.height*100;u((0,t.A)((0,t.A)({},o),{},{coordX:s.toFixed(2),coordY:i.toFixed(2)}))}}),(0,d.jsx)("div",{className:"injury-marker current",style:{left:"".concat(o.coordX,"%"),top:"".concat(o.coordY,"%")}}),a.map(e=>(0,d.jsx)("div",{className:"injury-marker saved",title:e.location,style:{left:"".concat(e.coordX,"%"),top:"".concat(e.coordY,"%")}},e.id))]}),(0,d.jsxs)("form",{id:"injury-form",onSubmit:async a=>{if(a.preventDefault(),e)try{await(0,c.gS)((0,c.rJ)(n.db,"injuries"),(0,t.A)((0,t.A)({},o),{},{userId:e.uid,createdAt:(0,c.O5)()})),alert("\u0422\u0440\u0430\u0432\u043c\u0443 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e!"),u((0,t.A)((0,t.A)({},o),{},{notes:"",location:""}))}catch(s){console.error(s)}},children:[(0,d.jsxs)("div",{className:"input-group",children:[(0,d.jsx)("label",{children:"\u041b\u043e\u043a\u0430\u0446\u0456\u044f:"}),(0,d.jsx)("input",{type:"text",value:o.location,onChange:e=>u((0,t.A)((0,t.A)({},o),{},{location:e.target.value})),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434: \u041a\u043e\u043b\u0456\u043d\u043e",required:!0})]}),(0,d.jsxs)("div",{className:"input-group",children:[(0,d.jsx)("label",{children:"\u0414\u0430\u0442\u0430:"}),(0,d.jsx)("input",{type:"date",value:o.date,onChange:e=>u((0,t.A)((0,t.A)({},o),{},{date:e.target.value})),required:!0})]}),(0,d.jsxs)("div",{className:"input-group",children:[(0,d.jsx)("label",{children:"\u0420\u0456\u0432\u0435\u043d\u044c \u0431\u043e\u043b\u044e (1-10):"}),(0,d.jsx)("input",{type:"range",min:"1",max:"10",value:o.pain,onChange:e=>u((0,t.A)((0,t.A)({},o),{},{pain:e.target.value}))}),(0,d.jsxs)("span",{className:"pain-display",children:[o.pain,"/10"]})]}),(0,d.jsx)("textarea",{placeholder:"\u0412\u0430\u0448\u0456 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0456...",value:o.notes,onChange:e=>u((0,t.A)((0,t.A)({},o),{},{notes:e.target.value}))}),(0,d.jsx)("button",{type:"submit",className:"submit-btn",children:"\u0417\u0430\u043f\u0438\u0441\u0430\u0442\u0438 \u0442\u0440\u0430\u0432\u043c\u0443"})]})]}),(0,d.jsxs)("div",{className:"chart-card",children:[(0,d.jsx)("h3",{className:"section-subtitle",children:"\ud83d\udcdc \u0406\u0441\u0442\u043e\u0440\u0456\u044f \u0442\u0440\u0430\u0432\u043c"}),(0,d.jsx)("div",{id:"injury-list",children:0===a.length?(0,d.jsx)("p",{className:"placeholder-text",children:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0441\u0438\u043b\u0443\u0435\u0442 \u0430\u0431\u043e \u0434\u043e\u0434\u0430\u0439\u0442\u0435 \u0437\u0430\u043f\u0438\u0441."}):a.map(e=>(0,d.jsxs)("div",{className:"history-item",children:[(0,d.jsxs)("div",{className:"history-header",children:[(0,d.jsx)("strong",{children:e.location}),(0,d.jsx)("span",{children:e.date})]}),(0,d.jsxs)("p",{children:["\u0411\u0456\u043b\u044c: ",e.pain,"/10"]}),(0,d.jsx)("p",{className:"small-notes",children:e.notes}),(0,d.jsx)("button",{className:"delete-btn",onClick:()=>(async e=>{window.confirm("\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0446\u0435\u0439 \u0437\u0430\u043f\u0438\u0441?")&&await(0,c.kd)((0,c.H9)(n.db,"injuries",e))})(e.id),children:"\xd7"})]},e.id))})]})]})]})}}}]);
//# sourceMappingURL=203.4176d823.chunk.js.map
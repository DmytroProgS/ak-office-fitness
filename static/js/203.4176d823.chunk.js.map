{"version":3,"file":"static/js/203.4176d823.chunk.js","mappings":"2RAOA,MAuHA,EAvHoBA,KAChB,MAAOC,IAAQC,EAAAA,EAAAA,IAAaC,EAAAA,IACrBC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,KAChCC,EAAUC,IAAeF,EAAAA,EAAAA,UAAS,CACrCG,SAAU,GACVC,MAAM,IAAIC,MAAOC,cAAcC,MAAM,KAAK,GAC1CC,KAAM,EACNC,MAAO,GACPC,OAAQ,EACRC,OAAQ,KAGZC,EAAAA,EAAAA,WAAU,KACN,IAAKjB,EAAM,OACX,MAAMkB,GAAIC,EAAAA,EAAAA,IACNC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aACfC,EAAAA,EAAAA,IAAM,SAAU,KAAMtB,EAAKuB,MAC3BC,EAAAA,EAAAA,IAAQ,OAAQ,SAEdC,GAAcC,EAAAA,EAAAA,IAAWR,EAAIS,IAC/BvB,EAAWuB,EAASC,KAAKC,IAAIC,IAAGC,EAAAA,EAAAA,GAAA,CAAOC,GAAIF,EAAIE,IAAOF,EAAIG,YAE9D,MAAO,IAAMR,KACd,CAACzB,IA+BJ,OACIkC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,aAAYC,SAAC,kBAE3BF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBC,SAAA,EAEhCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACtBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,OAAKC,IAAKC,EAASC,IAAI,WAAWL,UAAU,kBAAkBM,QArC1DC,IACpB,MAAMC,EAAOD,EAAEE,OAAOC,wBAChBC,GAAMJ,EAAEK,QAAUJ,EAAKK,MAAQL,EAAKM,MAAS,IAC7CC,GAAMR,EAAES,QAAUR,EAAKS,KAAOT,EAAKU,OAAU,IACnD9C,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIzB,GAAQ,IAAES,OAAQ+B,EAAEQ,QAAQ,GAAItC,OAAQkC,EAAEI,QAAQ,UAmCnDjB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,wBAAwBoB,MAAO,CAAEP,KAAK,GAADQ,OAAKlD,EAASS,OAAM,KAAKqC,IAAI,GAADI,OAAKlD,EAASU,OAAM,QAGnGb,EAAQ0B,IAAI4B,IACTpB,EAAAA,EAAAA,KAAA,OAAkBF,UAAU,sBAAsBuB,MAAOD,EAAIjD,SACxD+C,MAAO,CAAEP,KAAK,GAADQ,OAAKC,EAAI1C,OAAM,KAAKqC,IAAI,GAADI,OAAKC,EAAIzC,OAAM,OAD9CyC,EAAIzB,SAMtBE,EAAAA,EAAAA,MAAA,QAAMF,GAAG,cAAc2B,SA1ClBC,UAEjB,GADAlB,EAAEmB,iBACG7D,EACL,UACU8D,EAAAA,EAAAA,KAAO1C,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,aAAWU,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChCzB,GAAQ,IACXyD,OAAQ/D,EAAKuB,IACbyC,WAAWC,EAAAA,EAAAA,SAEfC,MAAM,0FACN3D,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIzB,GAAQ,IAAEQ,MAAO,GAAIN,SAAU,KACpD,CAAE,MAAO2D,GACLC,QAAQC,MAAMF,EAClB,GA6B0D/B,SAAA,EAC1CF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,iDACPC,EAAAA,EAAAA,KAAA,SAAOiC,KAAK,OAAOC,MAAOjE,EAASE,SAAUgE,SAAU9B,GAAKnC,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGzB,GAAQ,IAAEE,SAAUkC,EAAEE,OAAO2B,SAASE,YAAY,+FAAoBC,UAAQ,QAE9JxC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,+BACPC,EAAAA,EAAAA,KAAA,SAAOiC,KAAK,OAAOC,MAAOjE,EAASG,KAAM+D,SAAU9B,GAAKnC,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGzB,GAAQ,IAAEG,KAAMiC,EAAEE,OAAO2B,SAASG,UAAQ,QAEtHxC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,SAAAD,SAAO,2EACPC,EAAAA,EAAAA,KAAA,SAAOiC,KAAK,QAAQK,IAAI,IAAIC,IAAI,KAAKL,MAAOjE,EAASO,KAAM2D,SAAU9B,GAAKnC,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGzB,GAAQ,IAAEO,KAAM6B,EAAEE,OAAO2B,YACnHrC,EAAAA,EAAAA,MAAA,QAAMC,UAAU,eAAcC,SAAA,CAAE9B,EAASO,KAAK,aAElDwB,EAAAA,EAAAA,KAAA,YAAUoC,YAAY,qFAAoBF,MAAOjE,EAASQ,MAAO0D,SAAU9B,GAAKnC,GAAWwB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAGzB,GAAQ,IAAEQ,MAAO4B,EAAEE,OAAO2B,YAC1HlC,EAAAA,EAAAA,KAAA,UAAQiC,KAAK,SAASnC,UAAU,aAAYC,SAAC,iGAKrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACvBC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,mBAAkBC,SAAC,4FACjCC,EAAAA,EAAAA,KAAA,OAAKL,GAAG,cAAaI,SACG,IAAnBjC,EAAQ0E,QACLxC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,mBAAkBC,SAAC,qMAEhCjC,EAAQ0B,IAAI4B,IACRvB,EAAAA,EAAAA,MAAA,OAAkBC,UAAU,eAAcC,SAAA,EACtCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,iBAAgBC,SAAA,EAC3BC,EAAAA,EAAAA,KAAA,UAAAD,SAASqB,EAAIjD,YACb6B,EAAAA,EAAAA,KAAA,QAAAD,SAAOqB,EAAIhD,WAEfyB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,6BAAOqB,EAAI5C,KAAK,UACnBwB,EAAAA,EAAAA,KAAA,KAAGF,UAAU,cAAaC,SAAEqB,EAAI3C,SAChCuB,EAAAA,EAAAA,KAAA,UAAQF,UAAU,aAAaM,QAASA,IA5DnDmB,WACbkB,OAAOC,QAAQ,8GACTC,EAAAA,EAAAA,KAAUlD,EAAAA,EAAAA,IAAIT,EAAAA,GAAI,WAAYW,KA0DkCiD,CAAaxB,EAAIzB,IAAII,SAAC,WAP9DqB,EAAIzB,gB","sources":["pages/InjuryStory/InjuryStory.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db, auth } from '../../firebase';\r\nimport { collection, addDoc, query, where, orderBy, onSnapshot, serverTimestamp, deleteDoc, doc } from 'firebase/firestore';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport './InjuryStory.css';\r\nimport bodyImg from '../../assets/images/human_body_outline.png'; // –®–ª—è—Ö –¥–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏\r\n\r\nconst InjuryStory = () => {\r\n    const [user] = useAuthState(auth);\r\n    const [records, setRecords] = useState([]);\r\n    const [formData, setFormData] = useState({\r\n        location: '',\r\n        date: new Date().toISOString().split('T')[0],\r\n        pain: 5,\r\n        notes: '',\r\n        coordX: 0,\r\n        coordY: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        const q = query(\r\n            collection(db, 'injuries'),\r\n            where('userId', '==', user.uid),\r\n            orderBy('date', 'desc')\r\n        );\r\n        const unsubscribe = onSnapshot(q, (snapshot) => {\r\n            setRecords(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n        });\r\n        return () => unsubscribe();\r\n    }, [user]);\r\n\r\n    const handleMapClick = (e) => {\r\n        const rect = e.target.getBoundingClientRect();\r\n        const x = ((e.clientX - rect.left) / rect.width) * 100;\r\n        const y = ((e.clientY - rect.top) / rect.height) * 100;\r\n        setFormData({ ...formData, coordX: x.toFixed(2), coordY: y.toFixed(2) });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!user) return;\r\n        try {\r\n            await addDoc(collection(db, 'injuries'), {\r\n                ...formData,\r\n                userId: user.uid,\r\n                createdAt: serverTimestamp()\r\n            });\r\n            alert(\"–¢—Ä–∞–≤–º—É –∑–∞–ø–∏—Å–∞–Ω–æ!\");\r\n            setFormData({ ...formData, notes: '', location: '' });\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        if (window.confirm(\"–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –∑–∞–ø–∏—Å?\")) {\r\n            await deleteDoc(doc(db, 'injuries', id));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"injury-page\">\r\n            <h1 className=\"page-title\">Injury Story</h1>\r\n            \r\n            <div className=\"dashboard-container\">\r\n                {/* –õ–Ü–í–ê –ö–ê–†–¢–ö–ê: –ö–ê–†–¢–ê –¢–Ü–õ–ê */}\r\n                <div className=\"form-card\">\r\n                    <div className=\"body-map-container\">\r\n                        <img src={bodyImg} alt=\"Body Map\" className=\"body-silhouette\" onClick={handleMapClick} />\r\n                        {/* –ü–æ—Ç–æ—á–Ω–∏–π –º–∞—Ä–∫–µ—Ä (—á–µ—Ä–≤–æ–Ω–∏–π) –ø—Ä–∏ –≤–∏–±–æ—Ä—ñ */}\r\n                        <div className=\"injury-marker current\" style={{ left: `${formData.coordX}%`, top: `${formData.coordY}%` }}></div>\r\n                        \r\n                        {/* –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö —Ç—Ä–∞–≤–º –Ω–∞ —Ç—ñ–ª—ñ */}\r\n                        {records.map(rec => (\r\n                            <div key={rec.id} className=\"injury-marker saved\" title={rec.location}\r\n                                 style={{ left: `${rec.coordX}%`, top: `${rec.coordY}%` }}>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <form id=\"injury-form\" onSubmit={handleSubmit}>\r\n                        <div className=\"input-group\">\r\n                            <label>–õ–æ–∫–∞—Ü—ñ—è:</label>\r\n                            <input type=\"text\" value={formData.location} onChange={e => setFormData({...formData, location: e.target.value})} placeholder=\"–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ö–æ–ª—ñ–Ω–æ\" required />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label>–î–∞—Ç–∞:</label>\r\n                            <input type=\"date\" value={formData.date} onChange={e => setFormData({...formData, date: e.target.value})} required />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label>–†—ñ–≤–µ–Ω—å –±–æ–ª—é (1-10):</label>\r\n                            <input type=\"range\" min=\"1\" max=\"10\" value={formData.pain} onChange={e => setFormData({...formData, pain: e.target.value})} />\r\n                            <span className=\"pain-display\">{formData.pain}/10</span>\r\n                        </div>\r\n                        <textarea placeholder=\"–í–∞—à—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ...\" value={formData.notes} onChange={e => setFormData({...formData, notes: e.target.value})}></textarea>\r\n                        <button type=\"submit\" className=\"submit-btn\">–ó–∞–ø–∏—Å–∞—Ç–∏ —Ç—Ä–∞–≤–º—É</button>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* –ü–†–ê–í–ê –ö–ê–†–¢–ö–ê: –Ü–°–¢–û–†–Ü–Ø */}\r\n                <div className=\"chart-card\">\r\n                    <h3 className=\"section-subtitle\">üìú –Ü—Å—Ç–æ—Ä—ñ—è —Ç—Ä–∞–≤–º</h3>\r\n                    <div id=\"injury-list\">\r\n                        {records.length === 0 ? (\r\n                            <p className=\"placeholder-text\">–ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ —Å–∏–ª—É–µ—Ç –∞–±–æ –¥–æ–¥–∞–π—Ç–µ –∑–∞–ø–∏—Å.</p>\r\n                        ) : (\r\n                            records.map(rec => (\r\n                                <div key={rec.id} className=\"history-item\">\r\n                                    <div className=\"history-header\">\r\n                                        <strong>{rec.location}</strong>\r\n                                        <span>{rec.date}</span>\r\n                                    </div>\r\n                                    <p>–ë—ñ–ª—å: {rec.pain}/10</p>\r\n                                    <p className=\"small-notes\">{rec.notes}</p>\r\n                                    <button className=\"delete-btn\" onClick={() => handleDelete(rec.id)}>√ó</button>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InjuryStory;"],"names":["InjuryStory","user","useAuthState","auth","records","setRecords","useState","formData","setFormData","location","date","Date","toISOString","split","pain","notes","coordX","coordY","useEffect","q","query","collection","db","where","uid","orderBy","unsubscribe","onSnapshot","snapshot","docs","map","doc","_objectSpread","id","data","_jsxs","className","children","_jsx","src","bodyImg","alt","onClick","e","rect","target","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","toFixed","style","concat","rec","title","onSubmit","async","preventDefault","addDoc","userId","createdAt","serverTimestamp","alert","err","console","error","type","value","onChange","placeholder","required","min","max","length","window","confirm","deleteDoc","handleDelete"],"ignoreList":[],"sourceRoot":""}
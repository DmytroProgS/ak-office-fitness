{"version":3,"file":"static/js/999.881f286b.chunk.js","mappings":"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","sources":["pages/LoadSeason/LoadSeason.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport Chart from 'chart.js/auto';\r\nimport './LoadSeason.css';\r\n\r\nconst LoadSeason = () => {\r\n    // Початкові дані (можна потім замінити на завантаження з Firebase)\r\n    const [dailyLoadData, setDailyLoadData] = useState([\r\n        { date: '2025-12-20', duration: 60, rpe: 7, distance: 8.5 },\r\n        { date: '2025-12-21', duration: 90, rpe: 8, distance: 12.0 },\r\n        { date: '2025-12-22', duration: 45, rpe: 5, distance: 5.2 },\r\n        { date: '2025-12-23', duration: 70, rpe: 6, distance: 9.1 },\r\n        { date: '2025-12-24', duration: 60, rpe: 7, distance: 8.0 },\r\n    ]);\r\n\r\n    const [formData, setFormData] = useState({\r\n        date: new Date().toISOString().split('T')[0],\r\n        duration: '',\r\n        distance: '',\r\n        rpe: 5\r\n    });\r\n\r\n    const [acwr, setAcwr] = useState(1.0);\r\n    const loadChartRef = useRef(null);\r\n    const distChartRef = useRef(null);\r\n    const loadChartInstance = useRef(null);\r\n    const distChartInstance = useRef(null);\r\n\r\n    // Розрахунок ACWR\r\n    useEffect(() => {\r\n        calculateMetrics();\r\n        updateCharts();\r\n        // eslint-disable-next-line\r\n    }, [dailyLoadData]);\r\n\r\n    const calculateMetrics = () => {\r\n        if (dailyLoadData.length === 0) return;\r\n\r\n        const sortedData = [...dailyLoadData].sort((a, b) => new Date(b.date) - new Date(a.date));\r\n        const today = new Date(sortedData[0].date);\r\n\r\n        const getLoadForDays = (daysCount) => {\r\n            const startDate = new Date(today);\r\n            startDate.setDate(today.getDate() - daysCount);\r\n            \r\n            return dailyLoadData\r\n                .filter(item => {\r\n                    const d = new Date(item.date);\r\n                    return d <= today && d > startDate;\r\n                })\r\n                .reduce((sum, item) => sum + (item.duration * item.rpe), 0);\r\n        };\r\n\r\n        const acuteLoad = getLoadForDays(7);\r\n        const chronicLoad28 = getLoadForDays(28) / 4;\r\n        \r\n        const ratio = chronicLoad28 > 0 ? (acuteLoad / chronicLoad28) : 1.0;\r\n        setAcwr(ratio.toFixed(2));\r\n    };\r\n\r\n    const updateCharts = () => {\r\n        const sorted = [...dailyLoadData].sort((a, b) => new Date(a.date) - new Date(b.date));\r\n        const labels = sorted.map(d => d.date.split('-').slice(1).join('.'));\r\n        const loadValues = sorted.map(d => d.duration * d.rpe);\r\n        const distValues = sorted.map(d => d.distance);\r\n\r\n        // Load Chart\r\n        if (loadChartInstance.current) loadChartInstance.current.destroy();\r\n        loadChartInstance.current = new Chart(loadChartRef.current, {\r\n            type: 'line',\r\n            data: {\r\n                labels,\r\n                datasets: [{\r\n                    label: 'Session Load',\r\n                    data: loadValues,\r\n                    borderColor: '#5d50c6',\r\n                    backgroundColor: 'rgba(93, 80, 198, 0.2)',\r\n                    fill: true,\r\n                    tension: 0.4\r\n                }]\r\n            },\r\n            options: { responsive: true, plugins: { legend: { display: false } } }\r\n        });\r\n\r\n        // Distance Chart\r\n        if (distChartInstance.current) distChartInstance.current.destroy();\r\n        distChartInstance.current = new Chart(distChartRef.current, {\r\n            type: 'bar',\r\n            data: {\r\n                labels,\r\n                datasets: [{\r\n                    label: 'Кілометри',\r\n                    data: distValues,\r\n                    backgroundColor: '#50c65d'\r\n                }]\r\n            },\r\n            options: { responsive: true }\r\n        });\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const newEntry = {\r\n            date: formData.date,\r\n            duration: parseInt(formData.duration),\r\n            distance: parseFloat(formData.distance),\r\n            rpe: parseInt(formData.rpe)\r\n        };\r\n\r\n        setDailyLoadData(prev => {\r\n            const filtered = prev.filter(item => item.date !== newEntry.date);\r\n            return [...filtered, newEntry];\r\n        });\r\n\r\n        setFormData({ ...formData, duration: '', distance: '' });\r\n        alert('Дані збережено!');\r\n    };\r\n\r\n    // Визначаємо кут стрілки (від -90 до 90 градусів)\r\n    const getNeedleRotation = () => {\r\n        let val = parseFloat(acwr);\r\n        if (val > 2.0) val = 2.0;\r\n        return (val * 90) - 90; \r\n    };\r\n\r\n    const getStatusClass = () => {\r\n        if (acwr >= 0.8 && acwr <= 1.3) return 'status-safe';\r\n        if (acwr > 1.5 || acwr < 0.5) return 'status-danger';\r\n        return 'status-warning';\r\n    };\r\n\r\n    return (\r\n        <div className=\"load-season-container\">\r\n            <h1 className=\"page-title\">Load Season: Контроль навантаження</h1>\r\n            \r\n            <div className=\"dashboard-container\">\r\n                <div className=\"left-column\">\r\n                    <div className=\"form-card\">\r\n                        <h3>Додати тренування</h3>\r\n                        <form onSubmit={handleSubmit}>\r\n                            <div className=\"form-group\">\r\n                                <label>Дата:</label>\r\n                                <input type=\"date\" name=\"date\" value={formData.date} onChange={handleInputChange} required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Тривалість (хв):</label>\r\n                                <input type=\"number\" name=\"duration\" value={formData.duration} onChange={handleInputChange} placeholder=\"напр. 60\" required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Дистанція (км):</label>\r\n                                <input type=\"number\" step=\"0.1\" name=\"distance\" value={formData.distance} onChange={handleInputChange} placeholder=\"напр. 5.5\" required />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>RPE (Інтенсивність 1-10):</label>\r\n                                <div className=\"rpe-scale\">\r\n                                    {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(num => (\r\n                                        <div key={num} className=\"rpe-item\">\r\n                                            <input type=\"radio\" id={`rpe-${num}`} name=\"rpe\" value={num} checked={Number(formData.rpe) === num} onChange={handleInputChange} />\r\n                                            <label htmlFor={`rpe-${num}`} className=\"rpe-label\">{num}</label>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"submit-btn\">Зберегти тренування</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"right-column\">\r\n                    <div className=\"stats-card\">\r\n                        <h3>Ваш показник ACWR</h3>\r\n                        <div className=\"gauge-wrapper\">\r\n                            <div className=\"gauge-body\"></div>\r\n                            <div className=\"gauge-needle-pivot\"></div>\r\n                            <div className=\"gauge-needle\" style={{ transform: `translateX(-50%) rotate(${getNeedleRotation()}deg)` }}></div>\r\n                            <div className=\"gauge-value-text\">\r\n                                <span id=\"acwr-value\">{acwr}</span>\r\n                                <p className={getStatusClass()}>\r\n                                    {acwr >= 0.8 && acwr <= 1.3 ? 'Безпечна зона' : 'Увага / Ризик'}\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"chart-card\">\r\n                        <h4>Графік навантаження</h4>\r\n                        <canvas ref={loadChartRef}></canvas>\r\n                    </div>\r\n\r\n                    <div className=\"chart-card\">\r\n                        <h4>Дистанція по днях</h4>\r\n                        <canvas ref={distChartRef}></canvas>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadSeason;"],"names":["LoadSeason","dailyLoadData","setDailyLoadData","useState","date","duration","rpe","distance","formData","setFormData","Date","toISOString","split","acwr","setAcwr","loadChartRef","useRef","distChartRef","loadChartInstance","distChartInstance","useEffect","calculateMetrics","updateCharts","length","sortedData","sort","a","b","today","getLoadForDays","daysCount","startDate","setDate","getDate","filter","item","d","reduce","sum","acuteLoad","chronicLoad28","toFixed","sorted","labels","map","slice","join","loadValues","distValues","current","destroy","Chart","type","data","datasets","label","borderColor","backgroundColor","fill","tension","options","responsive","plugins","legend","display","handleInputChange","e","name","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","onSubmit","preventDefault","newEntry","parseInt","parseFloat","alert","onChange","required","placeholder","step","num","id","concat","checked","Number","htmlFor","style","transform","getNeedleRotation","val","ref"],"ignoreList":[],"sourceRoot":""}
"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[187],{47:(e,t,s)=>{s.d(t,{A:()=>o});var i=s(9379),a=s(5043),r=s(6667),n=s(8279),l=s(791);const o=()=>{const[e,t]=(0,n.hD)(l.j),[s,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!t){if(e){d(!0);const t=(0,r.H9)(l.db,"users",e.uid),s=(0,r.aQ)(t,t=>{t.exists()?o((0,i.A)((0,i.A)({},t.data()),{},{uid:e.uid})):o({uid:e.uid,email:e.email}),d(!1)},e=>{console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:",e),d(!1)});return()=>s()}o(null),d(!1)}},[e,t]),{userData:s,loading:c}}},7187:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s(9379),a=s(5043);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const n={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},l=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},o=async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await fetch(n.origin+e,{method:"POST",headers:s,body:t}),a=await i.text(),l=new r(i.status,a);if(i.ok)return l;throw l},c=(e,t,s)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||"string"!==typeof s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},d=e=>e.webdriver||!e.languages||0===e.languages.length,m=()=>new r(451,"Unavailable For Headless Browser"),h=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const s=(i=t,a=e.watchVariable,i instanceof FormData?i.get(a):i[a]);var i,a;return"string"===typeof s&&e.list.includes(s)},p=()=>new r(403,"Forbidden"),u=async(e,t,s)=>{if(!t.throttle||!s)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const i=t.id||e,a=await(async(e,t,s)=>{const i=Number(await s.get(e)||0);return t-Date.now()+i})(i,t.throttle,s);return a>0||(await s.set(i,Date.now().toString()),!1)},f=()=>new r(429,"Too Many Requests"),b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const s=l(e);n.publicKey=s.publicKey,n.blockHeadless=s.blockHeadless,n.storageProvider=s.storageProvider,n.blockList=s.blockList,n.limitRate=s.limitRate,n.origin=s.origin||t},v=async(e,t,s,a)=>{const r=l(a),b=r.publicKey||n.publicKey,v=r.blockHeadless||n.blockHeadless,g=r.storageProvider||n.storageProvider,j=(0,i.A)((0,i.A)({},n.blockList),r.blockList),x=(0,i.A)((0,i.A)({},n.limitRate),r.limitRate);if(v&&d(navigator))return Promise.reject(m());if(c(b,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(s),s&&h(j,s))return Promise.reject(p());if(await u(location.pathname,x,g))return Promise.reject(f());const y={lib_version:"4.4.1",user_id:b,service_id:e,template_id:t,template_params:s};return o("/api/v1.0/email/send",JSON.stringify(y),{"Content-type":"application/json"})};var g=s(6667),j=s(47),x=s(791),y=s(579);b("h4ZitYEvI_2ynZzgm");const w=()=>{const{userData:e,loading:t}=(0,j.A)(),[s,r]=(0,a.useState)({sleepQuality:5,sportLevel:5,stressLevel:5,officeExercises:5,hasPain:"\u041d\u0456",painArea:[],painDescription:""}),n=e=>{const{name:t,value:a,type:n,checked:l}=e.target;if("checkbox"===n){const e=l?[...s.painArea,a]:s.painArea.filter(e=>e!==a);return void r((0,i.A)((0,i.A)({},s),{},{painArea:e}))}r((0,i.A)((0,i.A)({},s),{},{[t]:"sleepQuality"===t||"sportLevel"===t||"stressLevel"===t||"officeExercises"===t?parseInt(a):a}))},l=e=>{let{name:t,label:i}=e;return(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{htmlFor:t,children:[i,":",(0,y.jsx)("span",{className:"rating-value",children:s[t]})," / 10"]}),(0,y.jsx)("input",{type:"range",id:t,name:t,min:"1",max:"10",value:s[t],onChange:n,className:"slider"})]})};return(0,y.jsxs)("div",{className:"wellness-container",children:[(0,y.jsx)("h1",{children:"\u0429\u041e\u0414\u0415\u041d\u041d\u0406 \u041f\u0418\u0422\u0410\u041d\u041d\u042f (Wellness Control)"}),(0,y.jsx)("p",{children:"\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044e \u0432\u0430\u0448\u043e\u0433\u043e \u0441\u0430\u043c\u043e\u043f\u043e\u0447\u0443\u0442\u0442\u044f."}),(0,y.jsxs)("form",{onSubmit:async a=>{var n,l;if(a.preventDefault(),t||!e||!e.email||!e.uid)return void alert("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0434\u043e\u0447\u0435\u043a\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u0430\u0431\u043e \u0443\u0432\u0456\u0439\u0434\u0456\u0442\u044c \u0437\u043d\u043e\u0432\u0443.");const o={to_email:"akkfitness13@gmail.com",from_name:e.firstName||(null===(n=e.email)||void 0===n?void 0:n.split("@")[0])||"Anonymous",from_email:null!==(l=e.email)&&void 0!==l?l:"",sleep_quality:s.sleepQuality,sport_level:s.sportLevel,stress_level:s.stressLevel,office_exercises:s.officeExercises,has_pain:s.hasPain,pain_area:"\u0422\u0430\u043a"===s.hasPain&&s.painArea.length>0?s.painArea.join(", "):"\u041d\u0435\u043c\u0430\u0454",pain_description:s.painDescription||"\u041d\u0435\u043c\u0430\u0454 \u0434\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u043e\u0433\u043e \u043e\u043f\u0438\u0441\u0443.",timestamp:(new Date).toLocaleString("uk-UA")},c=(0,i.A)((0,i.A)({},s),{},{userId:e.uid,timestamp:(0,g.O5)(),userName:e.firstName||e.email});try{const e=(0,g.rJ)(x.db,"wellnessRecords");await(0,g.gS)(e,c),await v("service_m3w0lih","template_6cig964",o),alert("\u2705 \u041e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u0442\u0430 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!"),r({sleepQuality:5,sportLevel:5,stressLevel:5,officeExercises:5,hasPain:"\u041d\u0456",painArea:[],painDescription:""})}catch(d){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u0431\u0440\u043e\u0431\u043a\u0438 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a\u0430 (Firestore/EmailJS):",d),alert("\u274c \u041f\u043e\u043c\u0438\u043b\u043a\u0430: \u0417\u0432\u0456\u0442 \u043d\u0435 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e \u0430\u0431\u043e \u043d\u0435 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e. \u041f\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043a\u043e\u043d\u0441\u043e\u043b\u044c.")}},className:"wellness-form",children:[(0,y.jsx)("hr",{className:"divider"}),(0,y.jsx)(l,{name:"sleepQuality",label:"\u042f\u043a \u0442\u0438 \u0441\u043f\u0430\u0432 \u043c\u0438\u043d\u0443\u043b\u043e\u0457 \u043d\u043e\u0447\u0456? (1-10)"}),(0,y.jsx)(l,{name:"sportLevel",label:"\u042f\u043a\u0438\u0439 \u0443 \u0432\u0430\u0441 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u0440\u0456\u0432\u0435\u043d\u044c \u0441\u043f\u043e\u0440\u0442\u0443? (1-10)"}),(0,y.jsx)(l,{name:"stressLevel",label:"\u042f\u043a\u0438\u0439 \u0443 \u0432\u0430\u0441 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u0440\u0456\u0432\u0435\u043d\u044c \u0441\u0442\u0440\u0435\u0441\u0443? (1-10)"}),(0,y.jsx)(l,{name:"officeExercises",label:"\u0412\u0438 \u0432\u0438\u043a\u043e\u043d\u0430\u043b\u0438 \u0441\u044c\u043e\u0433\u043e\u0434\u043d\u0456 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u0456 \u043e\u0444\u0456\u0441\u043d\u0456 \u0432\u043f\u0440\u0430\u0432\u0438? (1-10)"}),(0,y.jsx)("hr",{className:"divider"}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{children:"\u0427\u0438 \u0432\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u0435 \u0432\u0438 \u0437\u0430\u0440\u0430\u0437 \u044f\u043a\u0438\u0439\u0441\u044c \u0431\u0456\u043b\u044c \u0430\u0431\u043e \u0434\u0438\u0441\u043a\u043e\u043c\u0444\u043e\u0440\u0442 \u0443 \u0441\u0432\u043e\u0454\u043c\u0443 \u0442\u0456\u043b\u0456?"}),(0,y.jsxs)("div",{className:"radio-group",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"radio",name:"hasPain",value:"\u0422\u0430\u043a",checked:"\u0422\u0430\u043a"===s.hasPain,onChange:n})," \u0422\u0430\u043a"]}),(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"radio",name:"hasPain",value:"\u041d\u0456",checked:"\u041d\u0456"===s.hasPain,onChange:n})," \u041d\u0456"]})]})]}),"\u0422\u0430\u043a"===s.hasPain&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"form-group checkbox-group",children:[(0,y.jsx)("label",{children:"\u042f\u043a\u0449\u043e \u0442\u0430\u043a, \u0442\u043e \u0434\u0435 \u0441\u0430\u043c\u0435? (\u041c\u043e\u0436\u043b\u0438\u0432\u0438\u0439 \u0432\u0438\u0431\u0456\u0440 \u043a\u0456\u043b\u044c\u043a\u043e\u0445 \u0432\u0430\u0440\u0456\u0430\u043d\u0442\u0456\u0432)"}),["\u0428\u0438\u044f","\u041f\u043b\u0435\u0447\u0435","\u0412\u0435\u0440\u0445\u043d\u044f \u0447\u0430\u0441\u0442\u0438\u043d\u0430 \u0441\u043f\u0438\u043d\u0438","\u041f\u043e\u043f\u0435\u0440\u0435\u043a\u043e\u0432\u0438\u0439 \u0432\u0456\u0434\u0434\u0456\u043b \u0445\u0440\u0435\u0431\u0442\u0430 / \u043d\u0438\u0436\u043d\u044f \u0447\u0430\u0441\u0442\u0438\u043d\u0430 \u0441\u043f\u0438\u043d\u0438","\u0421\u0456\u0434\u043d\u0438\u0446\u0456","\u041d\u043e\u0433\u0438","\u0421\u0442\u043e\u043f\u0438/\u0433\u043e\u043c\u0456\u043b\u043a\u043e\u0441\u0442\u043e\u043f","\u0413\u043e\u043b\u043e\u0432\u0430","\u0420\u0443\u043a\u0438"].map(e=>(0,y.jsxs)("label",{className:"checkbox-item",children:[(0,y.jsx)("input",{type:"checkbox",name:"painArea",value:e,checked:s.painArea.includes(e),onChange:n}),e]},e))]}),(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsx)("label",{htmlFor:"painDescription",children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0438\u0439 \u043e\u043f\u0438\u0441 \u0431\u043e\u043b\u044e:"}),(0,y.jsx)("textarea",{id:"painDescription",name:"painDescription",value:s.painDescription,onChange:n,placeholder:"\u041e\u043f\u0438\u0448\u0456\u0442\u044c, \u044f\u043a \u0432\u0438 \u0441\u0435\u0431\u0435 \u043f\u043e\u0447\u0443\u0432\u0430\u0454\u0442\u0435 \u0430\u0431\u043e \u0434\u0435 \u0441\u0430\u043c\u0435 \u0432\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u0435 \u0431\u0456\u043b\u044c.",rows:"3"})]})]}),(0,y.jsx)("button",{type:"submit",className:"submit-button",disabled:t,children:t?"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0442\u0430 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a"})]})]})}}}]);
//# sourceMappingURL=187.fab7c9bb.chunk.js.map
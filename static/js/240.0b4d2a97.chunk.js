"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[240],{47:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(9379),a=r(5043),i=r(6667),l=r(8279),o=r(791);const c=()=>{const[e,t]=(0,l.hD)(o.j),[r,c]=(0,a.useState)(null),[s,d]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!t){if(e){d(!0);const t=(0,i.H9)(o.db,"users",e.uid),r=(0,i.aQ)(t,t=>{t.exists()?c((0,n.A)((0,n.A)({},t.data()),{},{uid:e.uid})):c({uid:e.uid,email:e.email}),d(!1)},e=>{console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:",e),d(!1)});return()=>r()}c(null),d(!1)}},[e,t]),{userData:r,loading:s}}},5240:(e,t,r)=>{r.r(t),r.d(t,{default:()=>m});var n=r(5043),a=r(47),i=r(9379),l=r(6667),o=r(8279),c=r(791);const s=()=>{const[e]=(0,o.hD)(c.j),[t,r]=(0,n.useState)(null),[a,s]=(0,n.useState)(!0),[d,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{if(!e)return r(null),void s(!1);s(!0),u(null);const t=(0,l.rJ)(c.db,"users",e.uid,"wellnessRecords"),n=(0,l.P)(t,(0,l.My)("timestamp","desc"),(0,l.AB)(1)),a=(0,l.aQ)(n,e=>{if(e.docs.length>0){const t=e.docs[0];r((0,i.A)({id:t.id},t.data()))}else r(null);s(!1)},e=>{console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0443 Wellness:",e),u(e.message),s(!1)});return()=>a()},[e]),{lastRecord:t,loading:a,error:d}};var d=r(7729),u=r(7220),h=r(579);const v=e=>{let{title:t,value:r,unit:n,description:a,icon:i,color:l="var(--primary-color)"}=e;return(0,h.jsxs)("div",{className:"dashboard-card",style:{borderLeftColor:l},children:[(0,h.jsxs)("div",{className:"card-header",children:[(0,h.jsx)("span",{className:"card-icon",style:{color:l},children:i}),(0,h.jsx)("h3",{className:"card-title",children:t})]}),(0,h.jsxs)("div",{className:"card-body",children:[(0,h.jsxs)("div",{className:"card-value-group",children:[(0,h.jsx)("span",{className:"card-value",children:r}),n&&(0,h.jsx)("span",{className:"card-unit",children:n})]}),(0,h.jsx)("p",{className:"card-description",children:a})]})]})},m=()=>{const{userData:e}=(0,a.A)(),{lastRecord:t,loading:r}=s(),{history:n,loading:i,error:l}=(0,d.A)(30);return r||i?(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsx)("h1",{className:"page-title",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0456\u0432..."}),(0,h.jsx)("p",{children:"\u0414\u0430\u043d\u0456 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u044e\u0442\u044c\u0441\u044f. \u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430."})]}):l?(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsx)("h1",{className:"page-title",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,h.jsx)("p",{className:"status-error",children:"\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044f \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0434\u0430\u043d\u0456. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443."})]}):t?(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsx)("h1",{className:"page-title",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f"}),(0,h.jsxs)("div",{className:"dashboard-content",children:[(0,h.jsxs)("div",{className:"card-grid",children:[(0,h.jsx)(v,{title:"\u042f\u043a\u0456\u0441\u0442\u044c \u0441\u043d\u0443",value:t.sleepQuality,unit:"/ 10",description:"\u041e\u0446\u0456\u043d\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0433\u043e \u0441\u043d\u0443",icon:"\ud83d\ude34"}),(0,h.jsx)(v,{title:"\u0420\u0456\u0432\u0435\u043d\u044c \u0441\u0442\u0440\u0435\u0441\u0443",value:t.stressLevel,unit:"/ 10",description:"\u041e\u0446\u0456\u043d\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0433\u043e \u0441\u0442\u0440\u0435\u0441\u0443",icon:"\ud83e\udd2f",color:"var(--danger-color)"}),(0,h.jsx)(v,{title:"\u0421\u043f\u043e\u0440\u0442",value:t.sportLevel,unit:"/ 10",description:"\u041e\u0446\u0456\u043d\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043d\u044c\u043e\u0457 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0456",icon:"\ud83c\udfc3",color:"var(--primary-color)"}),(0,h.jsx)(v,{title:"\u0411\u0456\u043b\u044c/\u0414\u0438\u0441\u043a\u043e\u043c\u0444\u043e\u0440\u0442",value:"\u0422\u0430\u043a"===t.hasPain?t.painArea.join(", "):"\u041d\u0456",unit:"",description:"\u041e\u0441\u0442\u0430\u043d\u043d\u0456\u0439 \u0437\u0432\u0456\u0442",icon:"\ud83e\udd15",color:"\u0422\u0430\u043a"===t.hasPain?"var(--danger-color)":"var(--success-color)"})]}),n.length>0&&(0,h.jsxs)("div",{className:"chart-grid",children:[(0,h.jsx)("div",{className:"dashboard-card chart-section",children:(0,h.jsx)(u.A,{data:n,dataKey:"sleepQuality",title:"\u042f\u043a\u0456\u0441\u0442\u044c \u0441\u043d\u0443 (1-10)",lineColor:"var(--success-color)"})}),(0,h.jsx)("div",{className:"dashboard-card chart-section",children:(0,h.jsx)(u.A,{data:n,dataKey:"stressLevel",title:"\u0420\u0456\u0432\u0435\u043d\u044c \u0441\u0442\u0440\u0435\u0441\u0443 (1-10)",lineColor:"var(--danger-color)"})}),(0,h.jsx)("div",{className:"dashboard-card chart-section",children:(0,h.jsx)(u.A,{data:n,dataKey:"sportLevel",title:"\u0420\u0456\u0432\u0435\u043d\u044c \u0441\u043f\u043e\u0440\u0442\u0443 (1-10)",lineColor:"var(--primary-color)"})})]}),0===n.length&&(0,h.jsx)("p",{style:{marginTop:"20px"},children:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0433\u0440\u0430\u0444\u0456\u043a\u0456\u0432. \u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0412\u0435\u043b\u043d\u0435\u0441-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c."})]})]}):(0,h.jsxs)("div",{className:"dashboard-container",children:[(0,h.jsxs)("h1",{className:"page-title",children:["\u041f\u0440\u0438\u0432\u0456\u0442, ",(null===e||void 0===e?void 0:e.firstName)||"\u041a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447","!"]}),(0,h.jsxs)("p",{children:["\u041b\u0430\u0441\u043a\u0430\u0432\u043e \u043f\u0440\u043e\u0441\u0438\u043c\u043e \u0434\u043e \u0432\u0430\u0448\u043e\u0457 \u041f\u0430\u043d\u0435\u043b\u0456 \u0443\u043f\u0440\u0430\u0432\u043b\u0456\u043d\u043d\u044f. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0437\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c",(0,h.jsx)("a",{href:"/#/wellness",children:" \u0412\u0435\u043b\u043d\u0435\u0441-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"}),", \u0449\u043e\u0431 \u043f\u043e\u0447\u0430\u0442\u0438 \u0431\u0430\u0447\u0438\u0442\u0438 \u0441\u0432\u043e\u0457 \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a\u0438."]}),n.length>0&&(0,h.jsx)("div",{className:"dashboard-content",children:(0,h.jsx)("div",{className:"chart-grid",children:(0,h.jsx)("div",{className:"dashboard-card chart-section",children:(0,h.jsx)(u.A,{data:n,dataKey:"sleepQuality",title:"\u042f\u043a\u0456\u0441\u0442\u044c \u0441\u043d\u0443 (1-10)",lineColor:"var(--success-color)"})})})})]})}},7220:(e,t,r)=>{r.d(t,{A:()=>J});var n=r(5043),a=r(1180),i=r(8613),l=r(7734),o=r(2185),c=r(6026),s=r(379),d=r(7950),u=r(4483),h=r(8387),v=r(4794),m=r(1985),p=r(7287),f=r(6371);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g.apply(null,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=32,x={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function O(e){var t,{data:r,iconType:a,inactiveColor:i}=e,l=16,o=j/6,c=j/3,s=r.inactive?i:r.color,d=null!==a&&void 0!==a?a:r.type;if("none"===d)return null;if("plainline"===d)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:null===(t=r.payload)||void 0===t?void 0:t.strokeDasharray,x1:0,y1:l,x2:j,y2:l,className:"recharts-legend-icon"});if("line"===d)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(l,"h").concat(c,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(l,"\n            H").concat(j,"M").concat(2*c,",").concat(l,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(l),className:"recharts-legend-icon"});if("rect"===d)return n.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(4,"h").concat(j,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(r.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){b(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete u.legendIcon,n.cloneElement(r.legendIcon,u)}return n.createElement(m.i,{fill:s,cx:l,cy:l,size:j,sizeType:"diameter",type:d})}function w(e){var{payload:t,iconSize:r,layout:a,formatter:i,inactiveColor:l,iconType:o}=e,c={x:0,y:0,width:j,height:j},s={display:"horizontal"===a?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,a)=>{var u=t.formatter||i,m=(0,h.$)({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:t.inactive});if("none"===t.type)return null;var f=t.inactive?l:t.color,y=u?u(t.value,t,a):t.value;return n.createElement("li",g({className:m,style:s,key:"legend-item-".concat(a)},(0,p.XC)(e,t,a)),n.createElement(v.u,{width:r,height:r,viewBox:c,style:d,"aria-label":"".concat(y," legend icon")},n.createElement(O,{data:t,iconType:o,inactiveColor:l})),n.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},y))})}var N=e=>{var t=(0,f.e)(e,x),{payload:r,layout:a,align:i}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:"horizontal"===a?i:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:l},n.createElement(w,g({},t,{payload:r})))},P=r(6307),E=r(2598),k=r(787),S=r(5807);var A=r(982),D=r(8796),C=r(2814),z=["contextPayload"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(null,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function T(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W(e){return e.value}function Q(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,z),a=(0,E.s)(t,e.payloadUniqBy,W),i=L(L({},r),{},{payload:a});return n.isValidElement(e.content)?n.cloneElement(e.content,i):"function"===typeof e.content?n.createElement(e.content,i):n.createElement(N,i)}function R(e){var t=(0,k.j)();return(0,n.useEffect)(()=>{t((0,C.h1)(e))},[t,e]),null}function _(e){var t=(0,k.j)();return(0,n.useEffect)(()=>(t((0,C.hx)(e)),()=>{t((0,C.hx)({width:0,height:0}))}),[t,e]),null}var I={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function B(e){var t=(0,f.e)(e,I),r=(0,k.G)(S.g0),a=(0,u.M)(),i=(0,D.Kp)(),{width:l,height:o,wrapperStyle:c,portal:s}=t,[h,v]=(0,A.V)([r]),m=(0,D.yi)(),p=(0,D.rY)();if(null==m||null==p)return null;var g=m-((null===i||void 0===i?void 0:i.left)||0)-((null===i||void 0===i?void 0:i.right)||0),y=function(e,t,r,n){return"vertical"===e&&(0,P.Et)(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(t.layout,o,l,g),b=s?c:L(L({position:"absolute",width:(null===y||void 0===y?void 0:y.width)||l||"auto",height:(null===y||void 0===y?void 0:y.height)||o||"auto"},function(e,t,r,n,a,i){var l,o,{layout:c,align:s,verticalAlign:d}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===s&&"vertical"===c?{left:((n||0)-i.width)/2}:"right"===s?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===d?{top:((a||0)-i.height)/2}:"bottom"===d?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),L(L({},l),o)}(c,t,i,m,p,h)),c),j=null!==s&&void 0!==s?s:a;if(null==j||null==r)return null;var x=n.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:v},n.createElement(R,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!s&&n.createElement(_,{width:h.width,height:h.height}),n.createElement(Q,K({},t,y,{margin:i,chartWidth:m,chartHeight:p,contextPayload:r})));return(0,d.createPortal)(x,j)}B.displayName="Legend";var H=r(9530),V=r(579);const J=e=>{let{data:t,dataKey:r,title:n,lineColor:d="var(--primary-color)"}=e;const u=t.map(e=>({date:e.timestamp?new Date(e.timestamp).toLocaleDateString("uk-UA",{day:"2-digit",month:"2-digit"}):"\u041d/\u0414",value:e[r]})).filter(e=>void 0!==e.value);return 0===u.length?(0,V.jsxs)("div",{className:"no-chart-data",children:["\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043d\u044c\u043e \u0434\u0430\u043d\u0438\u0445 \u0434\u043b\u044f \u0432\u0456\u0434\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f \u0433\u0440\u0430\u0444\u0456\u043a\u0430 ",n,"."]}):(0,V.jsxs)("div",{className:"chart-container-wrapper",children:[(0,V.jsx)("h3",{children:n}),(0,V.jsx)(a.u,{width:"100%",height:350,children:(0,V.jsxs)(i.b,{data:u,margin:{top:10,right:30,left:0,bottom:5},children:[(0,V.jsx)(l.d,{strokeDasharray:"3 3",stroke:"var(--chart-grid-color)"}),(0,V.jsx)(o.W,{dataKey:"date",stroke:"var(--text-muted)"}),(0,V.jsx)(c.h,{domain:[1,10],stroke:"var(--text-muted)",allowDecimals:!1,tickCount:10}),(0,V.jsx)(s.m,{contentStyle:{backgroundColor:"var(--card-bg)",border:"none"},itemStyle:{color:d}}),(0,V.jsx)(B,{}),(0,V.jsx)(H.N1,{type:"monotone",dataKey:"value",name:n,stroke:d,strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})]})}},7729:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(9379),a=r(5043),i=r(6667),l=r(8279),o=r(791);const c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;const[t]=(0,l.hD)(o.j),[r,c]=(0,a.useState)([]),[s,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(!t)return c([]),void d(!1);d(!0),h(null);const r=new Date;r.setDate(r.getDate()-e);const a=(0,i.rJ)(o.db,"wellnessRecords"),l=(0,i.P)(a,(0,i._M)("userId","==",t.uid),(0,i._M)("timestamp",">=",r),(0,i.My)("timestamp","asc")),s=(0,i.aQ)(l,e=>{const t=e.docs.map(e=>{var t;const r=e.data();return(0,n.A)((0,n.A)({id:e.id},r),{},{timestamp:null===(t=r.timestamp)||void 0===t?void 0:t.toDate()})});c(t),d(!1)},e=>{console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0456\u0441\u0442\u043e\u0440\u0456\u0457 Wellness:",e),h(e.message),d(!1)});return()=>s()},[t,e]),{history:r,loading:s,error:u}}}}]);
//# sourceMappingURL=240.0b4d2a97.chunk.js.map
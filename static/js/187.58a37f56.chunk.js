"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[187],{47:(e,s,a)=>{a.d(s,{A:()=>o});var t=a(9379),i=a(5043),l=a(6667),r=a(8279),n=a(791);const o=()=>{const[e,s]=(0,r.hD)(n.j),[a,o]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{if(!s){if(e){d(!0);const s=(0,l.H9)(n.db,"users",e.uid),a=(0,l.aQ)(s,s=>{s.exists()?o((0,t.A)((0,t.A)({},s.data()),{},{uid:e.uid})):o({uid:e.uid,email:e.email}),d(!1)},e=>{console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430:",e),d(!1)});return()=>a()}o(null),d(!1)}},[e,s]),{userData:a,loading:c}}},7187:(e,s,a)=>{a.r(s),a.d(s,{default:()=>w});var t=a(9379),i=a(5043);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=s}}const r={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,s)=>Promise.resolve(localStorage.setItem(e,s)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},n=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},o=async function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const t=await fetch(r.origin+e,{method:"POST",headers:a,body:s}),i=await t.text(),n=new l(t.status,i);if(t.ok)return n;throw n},c=(e,s,a)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||"string"!==typeof s)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||"string"!==typeof a)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},d=e=>e.webdriver||!e.languages||0===e.languages.length,h=()=>new l(451,"Unavailable For Headless Browser"),m=(e,s)=>{if((e=>{var s;return!(null!==(s=e.list)&&void 0!==s&&s.length)||!e.watchVariable})(e))return!1;((e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof s)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const a=(t=s,i=e.watchVariable,t instanceof FormData?t.get(i):t[i]);var t,i;return"string"===typeof a&&e.list.includes(a)},p=()=>new l(403,"Forbidden"),u=async(e,s,a)=>{if(!s.throttle||!a)return!1;((e,s)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&"string"!==typeof s)throw"The LimitRate ID has to be a non-empty string"})(s.throttle,s.id);const t=s.id||e,i=await(async(e,s,a)=>{const t=Number(await a.get(e)||0);return s-Date.now()+t})(t,s.throttle,a);return i>0||(await a.set(t,Date.now().toString()),!1)},f=()=>new l(429,"Too Many Requests"),v=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const a=n(e);r.publicKey=a.publicKey,r.blockHeadless=a.blockHeadless,r.storageProvider=a.storageProvider,r.blockList=a.blockList,r.limitRate=a.limitRate,r.origin=a.origin||s},x=async(e,s,a,i)=>{const l=n(i),v=l.publicKey||r.publicKey,x=l.blockHeadless||r.blockHeadless,g=l.storageProvider||r.storageProvider,j=(0,t.A)((0,t.A)({},r.blockList),l.blockList),b=(0,t.A)((0,t.A)({},r.limitRate),l.limitRate);if(x&&d(navigator))return Promise.reject(h());if(c(v,e,s),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(a),a&&m(j,a))return Promise.reject(p());if(await u(location.pathname,b,g))return Promise.reject(f());const y={lib_version:"4.4.1",user_id:v,service_id:e,template_id:s,template_params:a};return o("/api/v1.0/email/send",JSON.stringify(y),{"Content-type":"application/json"})};var g=a(6667),j=a(47),b=a(791),y=a(579);v("h4ZitYEvI_2ynZzgm");const w=()=>{const{userData:e,loading:s}=(0,j.A)(),[a,l]=(0,i.useState)(!1),[r,n]=(0,i.useState)({sleepQuality:5,sportLevel:5,stressLevel:5,officeExercises:5,hasPain:"\u041d\u0456",painArea:[],painDescription:""}),o=e=>{const{name:s,value:a,type:i,checked:l}=e.target;if("checkbox"===i){const e=l?[...r.painArea,a]:r.painArea.filter(e=>e!==a);n((0,t.A)((0,t.A)({},r),{},{painArea:e}))}else n((0,t.A)((0,t.A)({},r),{},{[s]:a}))},c=e=>{const s=parseInt(e);return s<=3?{text:"\u041f\u043e\u0433\u0430\u043d\u043e",color:"#ff4d4d"}:s<=7?{text:"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e",color:"#f7d540"}:{text:"\u0412\u0456\u0434\u043c\u0456\u043d\u043d\u043e",color:"#4caf50"}},d=((parseInt(r.sleepQuality)+parseInt(r.sportLevel)+(11-parseInt(r.stressLevel))+parseInt(r.officeExercises))/4).toFixed(1);return s?(0,y.jsx)("div",{className:"loading",children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e..."}):(0,y.jsxs)("div",{className:"wellness-page",children:[(0,y.jsx)("h1",{className:"page-title",children:"\u0412\u0435\u043b\u043d\u0435\u0441-\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"}),(0,y.jsxs)("div",{className:"wellness-grid",children:[(0,y.jsxs)("form",{className:"wellness-form-card",onSubmit:async s=>{if(s.preventDefault(),!e)return void alert("\u041f\u043e\u043c\u0438\u043b\u043a\u0430: \u0414\u0430\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0435 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u0456.");l(!0);const a={user_name:"".concat(e.firstName||""," ").concat(e.lastName||""),user_email:e.email,to_email:"akkfitness13@gmail.com",sleep_quality:r.sleepQuality,sport_level:r.sportLevel,stress_level:r.stressLevel,office_exercises:r.officeExercises,has_pain:r.hasPain,pain_area:r.painArea.join(", ")||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e",pain_description:r.painDescription||"\u041d\u0435\u043c\u0430\u0454 \u043e\u043f\u0438\u0441\u0443"};try{await(0,g.gS)((0,g.rJ)(b.db,"wellness"),(0,t.A)((0,t.A)({},r),{},{userId:b.j.currentUser.uid,userName:a.user_name,userEmail:e.email,createdAt:(0,g.O5)()})),await x("service_m3w0lih","template_6cig964",a),alert("\u041e\u043f\u0438\u0442\u0443\u0432\u0430\u043b\u044c\u043d\u0438\u043a \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u043d\u043e!")}catch(i){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0432\u0456\u0434\u043f\u0440\u0430\u0432\u0446\u0456:",i),alert("\u0421\u0442\u0430\u043b\u0430\u0441\u044f \u043f\u043e\u043c\u0438\u043b\u043a\u0430. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437.")}finally{l(!1)}},children:[(0,y.jsxs)("div",{className:"input-group-wellness",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("i",{className:"fas fa-bed"})," \u042f\u043a\u0456\u0441\u0442\u044c \u0441\u043d\u0443 (",r.sleepQuality,"/10)"]}),(0,y.jsx)("input",{type:"range",name:"sleepQuality",min:"1",max:"10",value:r.sleepQuality,onChange:o})]}),(0,y.jsxs)("div",{className:"input-group-wellness",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("i",{className:"fas fa-running"})," \u0421\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0456\u0441\u0442\u044c (",r.sportLevel,"/10)"]}),(0,y.jsx)("input",{type:"range",name:"sportLevel",min:"1",max:"10",value:r.sportLevel,onChange:o})]}),(0,y.jsxs)("div",{className:"input-group-wellness",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("i",{className:"fas fa-brain"})," \u0420\u0456\u0432\u0435\u043d\u044c \u0441\u0442\u0440\u0435\u0441\u0443 (",r.stressLevel,"/10)"]}),(0,y.jsx)("input",{type:"range",name:"stressLevel",min:"1",max:"10",value:r.stressLevel,onChange:o})]}),(0,y.jsxs)("div",{className:"input-group-wellness",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("i",{className:"fas fa-dumbbell"})," \u041e\u0444\u0456\u0441\u043d\u0456 \u0432\u043f\u0440\u0430\u0432\u0438 (",r.officeExercises,"/10)"]}),(0,y.jsx)("input",{type:"range",name:"officeExercises",min:"1",max:"10",value:r.officeExercises,onChange:o})]}),(0,y.jsxs)("div",{className:"pain-section",children:[(0,y.jsxs)("h3",{children:[(0,y.jsx)("i",{className:"fas fa-exclamation-triangle"})," \u0427\u0438 \u0454 \u0434\u0438\u0441\u043a\u043e\u043c\u0444\u043e\u0440\u0442/\u0431\u0456\u043b\u044c?"]}),(0,y.jsxs)("div",{className:"radio-group",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"radio",name:"hasPain",value:"\u0422\u0430\u043a",checked:"\u0422\u0430\u043a"===r.hasPain,onChange:o})," \u0422\u0430\u043a"]}),(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"radio",name:"hasPain",value:"\u041d\u0456",checked:"\u041d\u0456"===r.hasPain,onChange:o})," \u041d\u0456"]})]}),"\u0422\u0430\u043a"===r.hasPain&&(0,y.jsxs)("div",{className:"pain-details animate-fade",children:[(0,y.jsx)("p",{children:"\u041e\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u043e\u043d\u0443:"}),(0,y.jsx)("div",{className:"checkbox-grid",children:["\u0428\u0438\u044f","\u0421\u043f\u0438\u043d\u0430","\u041f\u043e\u043f\u0435\u0440\u0435\u043a","\u041f\u043b\u0435\u0447\u0456","\u041a\u043e\u043b\u0456\u043d\u0430","\u041a\u0438\u0441\u0442\u0456"].map(e=>(0,y.jsxs)("label",{className:"check-item",children:[(0,y.jsx)("input",{type:"checkbox",value:e,checked:r.painArea.includes(e),onChange:o})," ",e]},e))}),(0,y.jsx)("textarea",{name:"painDescription",placeholder:"\u041e\u043f\u0438\u0448\u0456\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435...",value:r.painDescription,onChange:o})]})]}),(0,y.jsx)("button",{type:"submit",className:"btn-save-wellness",disabled:a,children:a?"\u041d\u0430\u0434\u0441\u0438\u043b\u0430\u0454\u043c\u043e...":"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0442\u0430 \u043d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438"})]}),(0,y.jsxs)("div",{className:"wellness-indicators",children:[(0,y.jsxs)("div",{className:"indicator-card",children:[(0,y.jsx)("span",{className:"indicator-label",children:"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0438\u0439 \u0456\u043d\u0434\u0435\u043a\u0441"}),(0,y.jsx)("div",{className:"indicator-value",style:{color:c(1*d).color},children:d}),(0,y.jsx)("p",{className:"indicator-desc",children:"\u0412\u0430\u0448 \u0441\u0442\u0430\u043d \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0456 \u043e\u043f\u0438\u0442\u0443\u0432\u0430\u043d\u043d\u044f"})]}),(0,y.jsxs)("div",{className:"mini-stats",children:[(0,y.jsxs)("div",{className:"stat-box",children:[(0,y.jsx)("span",{className:"stat-title",children:"\u0421\u043e\u043d"}),(0,y.jsx)("span",{className:"stat-val",style:{color:c(r.sleepQuality).color},children:c(r.sleepQuality).text})]}),(0,y.jsxs)("div",{className:"stat-box",children:[(0,y.jsx)("span",{className:"stat-title",children:"\u0421\u0442\u0440\u0435\u0441"}),(0,y.jsx)("span",{className:"stat-val",style:{color:c(11-r.stressLevel).color},children:c(11-r.stressLevel).text})]}),(0,y.jsxs)("div",{className:"stat-box",children:[(0,y.jsx)("span",{className:"stat-title",children:"\u0411\u0456\u043b\u044c"}),(0,y.jsx)("span",{className:"stat-val",children:"\u0422\u0430\u043a"===r.hasPain?"\u041f\u0440\u0438\u0441\u0443\u0442\u043d\u0456\u0439":"\u0412\u0456\u0434\u0441\u0443\u0442\u043d\u0456\u0439"})]})]})]})]})]})}}}]);
//# sourceMappingURL=187.58a37f56.chunk.js.map
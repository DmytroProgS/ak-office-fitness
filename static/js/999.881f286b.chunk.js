"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[999],{999:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(9379),r=s(5043),n=s(5884),d=s(579);const l=()=>{const[e,a]=(0,r.useState)([{date:"2025-12-20",duration:60,rpe:7,distance:8.5},{date:"2025-12-21",duration:90,rpe:8,distance:12},{date:"2025-12-22",duration:45,rpe:5,distance:5.2},{date:"2025-12-23",duration:70,rpe:6,distance:9.1},{date:"2025-12-24",duration:60,rpe:7,distance:8}]),[s,l]=(0,r.useState)({date:(new Date).toISOString().split("T")[0],duration:"",distance:"",rpe:5}),[c,i]=(0,r.useState)(1),o=(0,r.useRef)(null),u=(0,r.useRef)(null),p=(0,r.useRef)(null),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{m(),x()},[e]);const m=()=>{if(0===e.length)return;const a=[...e].sort((e,a)=>new Date(a.date)-new Date(e.date)),s=new Date(a[0].date),t=a=>{const t=new Date(s);return t.setDate(s.getDate()-a),e.filter(e=>{const a=new Date(e.date);return a<=s&&a>t}).reduce((e,a)=>e+a.duration*a.rpe,0)},r=t(7),n=t(28)/4;i((n>0?r/n:1).toFixed(2))},x=()=>{const a=[...e].sort((e,a)=>new Date(e.date)-new Date(a.date)),s=a.map(e=>e.date.split("-").slice(1).join(".")),t=a.map(e=>e.duration*e.rpe),r=a.map(e=>e.distance);p.current&&p.current.destroy(),p.current=new n.Ay(o.current,{type:"line",data:{labels:s,datasets:[{label:"Session Load",data:t,borderColor:"#5d50c6",backgroundColor:"rgba(93, 80, 198, 0.2)",fill:!0,tension:.4}]},options:{responsive:!0,plugins:{legend:{display:!1}}}}),h.current&&h.current.destroy(),h.current=new n.Ay(u.current,{type:"bar",data:{labels:s,datasets:[{label:"\u041a\u0456\u043b\u043e\u043c\u0435\u0442\u0440\u0438",data:r,backgroundColor:"#50c65d"}]},options:{responsive:!0}})},j=e=>{const{name:a,value:s}=e.target;l(e=>(0,t.A)((0,t.A)({},e),{},{[a]:s}))};return(0,d.jsxs)("div",{className:"load-season-container",children:[(0,d.jsx)("h1",{className:"page-title",children:"Load Season: \u041a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,d.jsxs)("div",{className:"dashboard-container",children:[(0,d.jsx)("div",{className:"left-column",children:(0,d.jsxs)("div",{className:"form-card",children:[(0,d.jsx)("h3",{children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={date:s.date,duration:parseInt(s.duration),distance:parseFloat(s.distance),rpe:parseInt(s.rpe)};a(e=>[...e.filter(e=>e.date!==r.date),r]),l((0,t.A)((0,t.A)({},s),{},{duration:"",distance:""})),alert("\u0414\u0430\u043d\u0456 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u043e!")},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0414\u0430\u0442\u0430:"}),(0,d.jsx)("input",{type:"date",name:"date",value:s.date,onChange:j,required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0422\u0440\u0438\u0432\u0430\u043b\u0456\u0441\u0442\u044c (\u0445\u0432):"}),(0,d.jsx)("input",{type:"number",name:"duration",value:s.duration,onChange:j,placeholder:"\u043d\u0430\u043f\u0440. 60",required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"\u0414\u0438\u0441\u0442\u0430\u043d\u0446\u0456\u044f (\u043a\u043c):"}),(0,d.jsx)("input",{type:"number",step:"0.1",name:"distance",value:s.distance,onChange:j,placeholder:"\u043d\u0430\u043f\u0440. 5.5",required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"RPE (\u0406\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u0456\u0441\u0442\u044c 1-10):"}),(0,d.jsx)("div",{className:"rpe-scale",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,d.jsxs)("div",{className:"rpe-item",children:[(0,d.jsx)("input",{type:"radio",id:"rpe-".concat(e),name:"rpe",value:e,checked:Number(s.rpe)===e,onChange:j}),(0,d.jsx)("label",{htmlFor:"rpe-".concat(e),className:"rpe-label",children:e})]},e))})]}),(0,d.jsx)("button",{type:"submit",className:"submit-btn",children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0442\u0440\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"})]})]})}),(0,d.jsxs)("div",{className:"right-column",children:[(0,d.jsxs)("div",{className:"stats-card",children:[(0,d.jsx)("h3",{children:"\u0412\u0430\u0448 \u043f\u043e\u043a\u0430\u0437\u043d\u0438\u043a ACWR"}),(0,d.jsxs)("div",{className:"gauge-wrapper",children:[(0,d.jsx)("div",{className:"gauge-body"}),(0,d.jsx)("div",{className:"gauge-needle-pivot"}),(0,d.jsx)("div",{className:"gauge-needle",style:{transform:"translateX(-50%) rotate(".concat((()=>{let e=parseFloat(c);return e>2&&(e=2),90*e-90})(),"deg)")}}),(0,d.jsxs)("div",{className:"gauge-value-text",children:[(0,d.jsx)("span",{id:"acwr-value",children:c}),(0,d.jsx)("p",{className:c>=.8&&c<=1.3?"status-safe":c>1.5||c<.5?"status-danger":"status-warning",children:c>=.8&&c<=1.3?"\u0411\u0435\u0437\u043f\u0435\u0447\u043d\u0430 \u0437\u043e\u043d\u0430":"\u0423\u0432\u0430\u0433\u0430 / \u0420\u0438\u0437\u0438\u043a"})]})]})]}),(0,d.jsxs)("div",{className:"chart-card",children:[(0,d.jsx)("h4",{children:"\u0413\u0440\u0430\u0444\u0456\u043a \u043d\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,d.jsx)("canvas",{ref:o})]}),(0,d.jsxs)("div",{className:"chart-card",children:[(0,d.jsx)("h4",{children:"\u0414\u0438\u0441\u0442\u0430\u043d\u0446\u0456\u044f \u043f\u043e \u0434\u043d\u044f\u0445"}),(0,d.jsx)("canvas",{ref:u})]})]})]})]})}}}]);
//# sourceMappingURL=999.881f286b.chunk.js.map
"use strict";(self.webpackChunkak_office_fitness=self.webpackChunkak_office_fitness||[]).push([[664],{664:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o});var l=s(9379),t=s(5043),r=s(47),i=s(6667),n=s(791),c=s(579);const o=()=>{const{userData:e,loading:a,error:s}=(0,r.A)(),[o,d]=(0,t.useState)(!1),[h,m]=(0,t.useState)({firstName:"",lastName:"",birthDate:"",height:"",weight:"",goal:""}),[u,g]=(0,t.useState)(null);t.useEffect(()=>{e&&m({firstName:e.firstName||"",lastName:e.lastName||"",birthDate:e.birthDate||"",height:e.height||"",weight:e.weight||"",goal:e.goal||""})},[e]);const x=e=>{const{name:a,value:s}=e.target;m(e=>(0,l.A)((0,l.A)({},e),{},{[a]:s}))};return a?(0,c.jsx)("div",{className:"profile-container",children:(0,c.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445 \u043f\u0440\u043e\u0444\u0456\u043b\u044e..."})}):s?(0,c.jsx)("div",{className:"profile-container",children:(0,c.jsxs)("p",{className:"status-error",children:["\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u044f: ",s]})}):e?(0,c.jsxs)("div",{className:"profile-container",children:[(0,c.jsx)("h1",{className:"page-title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0438\u0439 \u041f\u0440\u043e\u0444\u0456\u043b\u044c"}),(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault(),g("loading");try{if(!e||!e.uid)throw new Error("\u041d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e UID \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430.");const a=(0,i.H9)(n.db,"users",e.uid);await(0,i.mZ)(a,h),g("success"),d(!1),setTimeout(()=>g(null),3e3)}catch(s){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u043f\u0440\u043e\u0444\u0456\u043b\u044e:",s),g("error"),setTimeout(()=>g(null),5e3)}},className:"profile-form",children:[(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h2",{children:"\u041e\u0431\u043b\u0456\u043a\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0441"}),(0,c.jsxs)("div",{className:"info-group",children:[(0,c.jsx)("label",{children:"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430:"}),(0,c.jsx)("p",{className:"info-value",children:e.email||"\u041d\u0435 \u0432\u043a\u0430\u0437\u0430\u043d\u043e"})]})]}),(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h2",{children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"firstName",children:"\u0406\u043c'\u044f:"}),(0,c.jsx)("input",{id:"firstName",name:"firstName",type:"text",value:h.firstName,onChange:x,readOnly:!o,className:o?"editable":"read-only",placeholder:"\u0412\u0430\u0448\u0435 \u0456\u043c'\u044f"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"lastName",children:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435:"}),(0,c.jsx)("input",{id:"lastName",name:"lastName",type:"text",value:h.lastName,onChange:x,readOnly:!o,className:o?"editable":"read-only",placeholder:"\u0412\u0430\u0448\u0435 \u043f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"birthDate",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f:"}),(0,c.jsx)("input",{id:"birthDate",name:"birthDate",type:"date",value:h.birthDate,onChange:x,readOnly:!o,className:o?"editable":"read-only"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"height",children:"\u0417\u0440\u0456\u0441\u0442 (\u0441\u043c):"}),(0,c.jsx)("input",{id:"height",name:"height",type:"number",value:h.height,onChange:x,readOnly:!o,className:o?"editable":"read-only",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, 180"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"weight",children:"\u0412\u0430\u0433\u0430 (\u043a\u0433):"}),(0,c.jsx)("input",{id:"weight",name:"weight",type:"number",value:h.weight,onChange:x,readOnly:!o,className:o?"editable":"read-only",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043a\u043b\u0430\u0434, 80"})]}),(0,c.jsxs)("div",{className:"form-group full-width",children:[(0,c.jsx)("label",{htmlFor:"goal",children:"\u041e\u0441\u043d\u043e\u0432\u043d\u0430 \u043c\u0435\u0442\u0430:"}),(0,c.jsx)("textarea",{id:"goal",name:"goal",value:h.goal,onChange:x,readOnly:!o,className:o?"editable":"read-only",placeholder:"\u0412\u0430\u0448\u0430 \u0441\u043f\u043e\u0440\u0442\u0438\u0432\u043d\u0430 \u043c\u0435\u0442\u0430 \u0430\u0431\u043e \u043c\u0435\u0442\u0430 \u043f\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u044f \u0437\u0434\u043e\u0440\u043e\u0432'\u044f",rows:"3"})]})]}),(0,c.jsxs)("div",{className:"profile-actions",children:["loading"===u&&(0,c.jsx)("p",{className:"status-message loading",children:"\u041e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f \u0434\u0430\u043d\u0438\u0445..."}),"success"===u&&(0,c.jsx)("p",{className:"status-message success",children:"\u0414\u0430\u043d\u0456 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e!"}),"error"===u&&(0,c.jsx)("p",{className:"status-message error",children:"\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044f. \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."}),o?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{type:"submit",className:"save-button",disabled:"loading"===u,children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"}),(0,c.jsx)("button",{type:"button",onClick:()=>d(!1),className:"cancel-button",children:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"})]}):(0,c.jsx)("button",{type:"button",onClick:()=>d(!0),className:"edit-button",children:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"})]})]})]}):(0,c.jsx)("div",{className:"profile-container",children:(0,c.jsx)("p",{children:"\u0414\u0430\u043d\u0456 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u0456."})})}}}]);
//# sourceMappingURL=664.a8705daf.chunk.js.map